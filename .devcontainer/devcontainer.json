{
    "name": "Mime",
    "image": "oven/bun:latest",
    "features": {
        "ghcr.io/devcontainers/features/sshd": {},
        "ghcr.io/devcontainers/features/git": {}
    },
    "runArgs": ["--env-file", ".devcontainer/.env"],
    "containerUser": "bun",
    "remoteUser": "bun",
    "postCreateCommand": "bun install",
    "mounts": [
        "source=${localEnv:HOME}/.gitconfig,target=/home/bun/.gitconfig,type=bind,consistency=cached",
        "source=${localEnv:HOME}/.ssh,target=/home/bun/.ssh,type=bind,consistency=cached"
    ],
    "customizations": {
        "vscode": {
            "extensions": [
                "oven.bun-vscode",
                "GitHub.copilot",
                "mhutchie.git-graph",
                "PKief.material-icon-theme",
                "wayou.vscode-todo-highlight",
                "shardulm94.trailing-spaces",
                "dbaeumer.vscode-eslint"
            ],
            "settings": {
                // follows eslint rules
                "editor.tabSize": 4,
                "editor.insertSpaces": true,
                // use eslint for formatting instead
                "editor.formatOnSave": false,
                // Auto fix eslint problems on save
                "editor.codeActionsOnSave": {
                    "source.fixAll.eslint": "never",
                    // eslint already takes care of sorting imports
                    "source.organizeImports": "never"
                },
                "terminal.integrated.defaultProfile.linux": "bash",

                "material-icon-theme.files.customClones": [
                    {
                        "name": "index",
                        "base": "typescript",
                        "color": "gray-500",
                        "fileNames": [
                            "index.ts"
                        ]
                    }
                ]
            }
        }
    }
}